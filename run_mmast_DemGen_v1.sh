#!/bin/bash

# Ruta base de los scripts
SCRIPT_DIR="/mnt/c/P_CodeProjects/MMASTER-workflows/bin"

# Lista de escenas 
SCENES=(
"AST_L1A_00307022016152908"
"AST_L1A_00307182016152906"
"AST_L1A_00307212017152819"
"AST_L1A_00307212017152828"
"AST_L1A_00307232012152750"
"AST_L1A_00308092018152937"
"AST_L1A_00306152004152750"
"AST_L1A_00306152004152759"
"AST_L1A_00307152003152732"
"AST_L1A_00306232016153510"
"AST_L1A_00307022016152859"
"AST_L1A_00307132014152814"
"AST_L1A_00307132014152823"
"AST_L1A_00307232012152759"
"AST_L1A_00307262013152804"
"AST_L1A_00307152003152723"
"AST_L1A_00307032008153434"
"AST_L1A_00307022010152802"
"AST_L1A_00307022010152811"
"AST_L1A_00311022020152801"
"AST_L1A_00308082006152754"
"AST_L1A_00307102013152805"
"AST_L1A_00307182016152857"
"AST_L1A_00309232011152716"
"AST_L1A_00309232011152725"
"AST_L1A_00311082002153511"
"AST_L1A_00310142007152800"
"AST_L1A_00310142007152809"
"AST_L1A_00306262002152943"
"AST_L1A_00305282009152856"
)

# Zona UTM con hemisferio
ZONE="18 +south"

# Loop a través de cada escena
for SCENE in "${SCENES[@]}"; do
  echo "Procesando escena: $SCENE"
  
  echo "  --> Ejecutando WorkFlowASTER_ed.sh"
  bash "$SCRIPT_DIR/WorkFlowASTER_ed.sh" -s "$SCENE" -z "$ZONE" -a -i 2
  
  echo "  --> Ejecutando PostProcessMicMac.sh"
  bash "$SCRIPT_DIR/PostProcessMicMac.sh" -d "$SCENE" -z "$ZONE"
  
  echo "  --> Escena $SCENE procesada completamente"
  echo "---------------------------------------------"
done

echo "✅ Procesamiento completo de todas las escenas."
